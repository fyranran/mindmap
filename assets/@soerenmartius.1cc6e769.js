/*!
  * @soerenmartius/vue3-clipboard v0.1.2
  * (c) 2021 Soeren Martius
  * @license MIT
  */var P=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function F(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}function N(g,d,i){return i={path:d,exports:{},require:function(h,e){return R(h,e==null?i.path:e)}},g(i,i.exports),i.exports}function R(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var H=N(function(g,d){/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT Â© Zeno Rocha
 */(function(h,e){g.exports=e()})(P,function(){return function(i){var h={};function e(t){if(h[t])return h[t].exports;var o=h[t]={i:t,l:!1,exports:{}};return i[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=i,e.c=h,e.d=function(t,o,u){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:u})},e.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(o&1&&(t=e(t)),o&8||o&4&&typeof t=="object"&&t&&t.__esModule)return t;var u=Object.create(null);if(e.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:t}),o&2&&typeof t!="string")for(var l in t)e.d(u,l,function(f){return t[f]}.bind(null,l));return u},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=6)}([function(i,h){function e(t){var o;if(t.nodeName==="SELECT")t.focus(),o=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var u=t.hasAttribute("readonly");u||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),u||t.removeAttribute("readonly"),o=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var l=window.getSelection(),f=document.createRange();f.selectNodeContents(t),l.removeAllRanges(),l.addRange(f),o=l.toString()}return o}i.exports=e},function(i,h){function e(){}e.prototype={on:function(t,o,u){var l=this.e||(this.e={});return(l[t]||(l[t]=[])).push({fn:o,ctx:u}),this},once:function(t,o,u){var l=this;function f(){l.off(t,f),o.apply(u,arguments)}return f._=o,this.on(t,f,u)},emit:function(t){var o=[].slice.call(arguments,1),u=((this.e||(this.e={}))[t]||[]).slice(),l=0,f=u.length;for(l;l<f;l++)u[l].fn.apply(u[l].ctx,o);return this},off:function(t,o){var u=this.e||(this.e={}),l=u[t],f=[];if(l&&o)for(var b=0,p=l.length;b<p;b++)l[b].fn!==o&&l[b].fn._!==o&&f.push(l[b]);return f.length?u[t]=f:delete u[t],this}},i.exports=e,i.exports.TinyEmitter=e},function(i,h,e){var t=e(3),o=e(4);function u(p,v,y){if(!p&&!v&&!y)throw new Error("Missing required arguments");if(!t.string(v))throw new TypeError("Second argument must be a String");if(!t.fn(y))throw new TypeError("Third argument must be a Function");if(t.node(p))return l(p,v,y);if(t.nodeList(p))return f(p,v,y);if(t.string(p))return b(p,v,y);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function l(p,v,y){return p.addEventListener(v,y),{destroy:function(){p.removeEventListener(v,y)}}}function f(p,v,y){return Array.prototype.forEach.call(p,function(m){m.addEventListener(v,y)}),{destroy:function(){Array.prototype.forEach.call(p,function(m){m.removeEventListener(v,y)})}}}function b(p,v,y){return o(document.body,p,v,y)}i.exports=u},function(i,h){h.node=function(e){return e!==void 0&&e instanceof HTMLElement&&e.nodeType===1},h.nodeList=function(e){var t=Object.prototype.toString.call(e);return e!==void 0&&(t==="[object NodeList]"||t==="[object HTMLCollection]")&&"length"in e&&(e.length===0||h.node(e[0]))},h.string=function(e){return typeof e=="string"||e instanceof String},h.fn=function(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"}},function(i,h,e){var t=e(5);function o(f,b,p,v,y){var m=l.apply(this,arguments);return f.addEventListener(p,m,y),{destroy:function(){f.removeEventListener(p,m,y)}}}function u(f,b,p,v,y){return typeof f.addEventListener=="function"?o.apply(null,arguments):typeof p=="function"?o.bind(null,document).apply(null,arguments):(typeof f=="string"&&(f=document.querySelectorAll(f)),Array.prototype.map.call(f,function(m){return o(m,b,p,v,y)}))}function l(f,b,p,v){return function(y){y.delegateTarget=t(y.target,b),y.delegateTarget&&v.call(f,y)}}i.exports=u},function(i,h){var e=9;if(typeof Element!="undefined"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function o(u,l){for(;u&&u.nodeType!==e;){if(typeof u.matches=="function"&&u.matches(l))return u;u=u.parentNode}}i.exports=o},function(i,h,e){e.r(h);var t=e(0),o=e.n(t),u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},l=function(){function c(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,a){return r&&c(n.prototype,r),a&&c(n,a),n}}();function f(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}var b=function(){function c(n){f(this,c),this.resolveOptions(n),this.initSelection()}return l(c,[{key:"resolveOptions",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=r.action,this.container=r.container,this.emitter=r.emitter,this.target=r.target,this.text=r.text,this.trigger=r.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var r=this,a=document.documentElement.getAttribute("dir")=="rtl";this.removeFake(),this.fakeHandlerCallback=function(){return r.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[a?"right":"left"]="-9999px";var s=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=s+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var r=void 0;try{r=document.execCommand(this.action)}catch{r=!1}this.handleResult(r)}},{key:"handleResult",value:function(r){this.emitter.emit(r?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"copy";if(this._action=r,this._action!=="copy"&&this._action!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(r){if(r!==void 0)if(r&&(typeof r=="undefined"?"undefined":u(r))==="object"&&r.nodeType===1){if(this.action==="copy"&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(this.action==="cut"&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`);this._target=r}else throw new Error('Invalid "target" value, use a valid Element')},get:function(){return this._target}}]),c}(),p=b,v=e(1),y=e.n(v),m=e(2),C=e.n(m),w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},_=function(){function c(n,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}return function(n,r,a){return r&&c(n.prototype,r),a&&c(n,a),n}}();function A(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function O(c,n){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:c}function j(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(c,n):c.__proto__=n)}var M=function(c){j(n,c);function n(r,a){A(this,n);var s=O(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return s.resolveOptions(a),s.listenClick(r),s}return _(n,[{key:"resolveOptions",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof a.action=="function"?a.action:this.defaultAction,this.target=typeof a.target=="function"?a.target:this.defaultTarget,this.text=typeof a.text=="function"?a.text:this.defaultText,this.container=w(a.container)==="object"?a.container:document.body}},{key:"listenClick",value:function(a){var s=this;this.listener=C()(a,"click",function(E){return s.onClick(E)})}},{key:"onClick",value:function(a){var s=a.delegateTarget||a.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new p({action:this.action(s),target:this.target(s),text:this.text(s),container:this.container,trigger:s,emitter:this})}},{key:"defaultAction",value:function(a){return T("action",a)}},{key:"defaultTarget",value:function(a){var s=T("target",a);if(s)return document.querySelector(s)}},{key:"defaultText",value:function(a){return T("text",a)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],s=typeof a=="string"?[a]:a,E=!!document.queryCommandSupported;return s.forEach(function(L){E=E&&!!document.queryCommandSupported(L)}),E}}]),n}(y.a);function T(c,n){var r="data-clipboard-"+c;if(!!n.hasAttribute(r))return n.getAttribute(r)}h.default=M}]).default})}),x=F(H);const k={autoSetContainer:!1,appendToBody:!0},D={config:g=>{const{autoSetContainer:d,appendToBody:i}=g;k.autoSetContainer=d||!1,k.appendToBody=i||!0},install:g=>{g.config.globalProperties.$vclipboard=S,g.directive("clipboard",{beforeMount(d,i){if(i.arg==="success")d._vClipboard_success=i.value;else if(i.arg==="error")d._vClipboard_error=i.value;else{const h=new x(d,{text:()=>i.value,action:()=>i.arg==="cut"?"cut":"copy",container:k.autoSetContainer?d:void 0});h.on("success",e=>{const t=d._vClipboard_success;t&&t(e)}),h.on("error",e=>{const t=d._vClipboard_error;t&&t(e)}),d._vClipboard=h}},updated(d,i){i.arg==="success"?d._vClipboard_success=i.value:i.arg==="error"?d._vClipboard_error=i.value:(d._vClipboard.text=()=>i.value,d._vClipboard.action=()=>i.arg==="cut"?"cut":"copy")},unmounted(d,i){i.arg==="success"?delete d._vClipboard_success:i.arg==="error"?delete d._vClipboard_error:(d._vClipboard.destroy(),delete d._vClipboard)}})},toClipboard:(g,d)=>S(g,d)},S=(g,d="copy")=>new Promise((i,h)=>{const e=document.createElement("button"),t=new x(e,{text:()=>g,action:()=>d});t.on("success",o=>{t.destroy(),i(o)}),t.on("error",o=>{t.destroy(),h(o)}),k.appendToBody&&document.body.appendChild(e),e.click(),k.appendToBody&&document.body.removeChild(e)});export{D as V};
